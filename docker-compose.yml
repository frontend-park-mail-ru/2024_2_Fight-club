services:
    frontend:
        image: node:20
        working_dir: /app
        volumes:
            - ./:/app
            - /app/node_modules
        ports:
            - '5173:5173' # For local development!
        command: >
            sh -c "npm i && npm run start"

    nginx:
        image: nginx:latest
        volumes:
            - ./nginx/nginx.conf:/etc/nginx/nginx.conf
        ports:
            - '80:80'
        depends_on:
            - frontend
